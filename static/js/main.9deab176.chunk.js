(this.webpackJsonpsudoku=this.webpackJsonpsudoku||[]).push([[0],{17:function(e,t,n){e.exports=n(40)},22:function(e,t,n){},23:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),s=n(16),a=n.n(s);n(22),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(6),u=n(8),i=n(9),c=n(10),d=n(12),f=n(11),p=(n(23),function e(t,n,r,o){if(r>80)return{solution:t,steps:o};if(n.has(r))return e(t,n,r+1,o);if(9!==t[r]){var s=t.slice();if(s[r]=s[r]+1,o.push({notes:!1,index:r,num:s[r],old:s[r]-1}),!function(e,t){var n,r,o=Math.floor(t/9),s=t%9,a=o<3?0:o<6?3:6,l=s<3?0:s<6?3:6;for(n=9*o;n<9*o+9;n++)if(e[n]===e[t]&&n!==t)return!1;for(n=s;n<81;n+=9)if(e[n]===e[t]&&n!==t)return!1;for(n=9*a;n<9*a+27;n+=9)for(r=l;r<l+3;r++)if(e[n+r]===e[t]&&n+r!==t)return!1;return!0}(s,r))return e(s,n,r,o);var a=e(s,n,r+1,o);return null===a?e(s,n,r,o):a}return o.push({notes:!1,index:r,num:0,old:9}),null}),v=function(e,t){return p(e,t,0,[])},h=function(e,t){var n,r=new Set(e),o=Object(l.a)(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;r.delete(s)}}catch(a){o.e(a)}finally{o.f()}return r},m=function(e,t){var n,r=new Set(e),o=Object(l.a)(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;r.add(s)}}catch(a){o.e(a)}finally{o.f()}return r},y=function(e,t,n){var r,o,s=Math.floor(t/9),a=t%9,l=s<3?0:s<6?3:6,u=a<3?0:a<6?3:6;for(r=9*s;r<9*s+9;r++)e[r]&&e[r].delete(n);for(r=a;r<81;r+=9)e[r]&&e[r].delete(n);for(r=9*l;r<9*l+27;r+=9)for(o=u;o<u+3;o++)e[r+o]&&e[r+o].delete(n)},z=function e(t,n,r){for(var o=0,s=[-1,10];o<81&&(!n[o]||1!==n[o].size);){if(n[o]&&(s=s[1]>n[o].size?[o,n[o].size]:s),n[o]&&0===n[o].size)return null;o++}if(!n[o]||1!==n[o].size){if(s[0]>-1){o=s[0];var a=t.slice(),l=n[o].keys().next().value;r.push({notes:!1,index:o,num:l,old:a[o]}),a[o]=l;var u=function(e){for(var t=Array(81).fill(null),n=0;n<e.length;n++)e[n]&&(t[n]=new Set(e[n]));return t}(n);u[o]=null,y(u,o,l);var i=e(a,u,r);return null===i?(n[o].delete(l),e(t,n,r)):i}return{solution:t,steps:r}}t[o]=n[o].keys().next().value,r.push({notes:!1,index:o,num:t[o],old:0}),n[o]=null,y(n,o,t[o]);var c=e(t,n,r);return null===c&&r.push({notes:!1,index:o,num:0,old:null}),c},k=function(e,t){var n=function(e){for(var t=Array(27),n=Array(81),r=0;r<27;r++)t[r]=new Set;for(var o=new Set([1,2,3,4,5,6,7,8,9]),s=0;s<81;s++){var a=Math.floor(s/9),l=s%9,u=3*Math.floor(a/3)+Math.floor(l/3);0!==e[s]&&(t[a].add(e[s]),t[9+l].add(e[s]),t[18+u].add(e[s]))}for(var i=0;i<81;i++)if(0===e[i]){var c=Math.floor(i/9),d=i%9,f=3*Math.floor(c/3)+Math.floor(d/3);n[i]=h(o,m(t[c],m(t[9+d],t[18+f])))}return n}(e);return z(e,n,[])},b=function(e){for(var t=new Set,n=0;n<e.length;n++)0!==e[n]&&t.add(n);return t},N=n(14),g=n.n(N);g.a.initializeApp({apiKey:"AIzaSyAEe9sYq3Yq1Lt89g-QSbASdzg3_85ZhcM",authDomain:"sudoku-dace2.firebaseapp.com",databaseURL:"https://sudoku-dace2.firebaseio.com",projectId:"sudoku-dace2",storageBucket:"sudoku-dace2.appspot.com",messagingSenderId:"642131442178",appId:"1:642131442178:web:62ca97bb4baca27aa4c51b"});var w=g.a.database(),S=function(e){var t="";for(var n in e)e[n]&&(t+=n+" ");return t},E=function(e){return o.a.createElement("div",{className:S({cell:!0,show:!e.show}),key:e.val},e.val)},M=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"renderNotes",value:function(){for(var e=[],t=1;t<10;t++)e.push(o.a.createElement(E,{val:t,show:this.props.notes[t-1]}));return o.a.createElement("div",{className:"grid"},e)}},{key:"render",value:function(){return o.a.createElement("td",{className:S({"square-selected":this.props.selected,incorrect:this.props.value!==this.props.solution,given:this.props.given}),onClick:this.props.onClick,key:this.props.val},0===this.props.value?this.renderNotes():this.props.value)}}]),n}(o.a.Component),C=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"renderSquare",value:function(e){var t=this;return o.a.createElement(M,{value:this.props.squares[e],given:this.props.givens.has(e),solution:this.props.solution[e],selected:this.props.selected===e,notes:this.props.notes[e],onClick:function(){return t.props.squareClick(e)},val:e})}},{key:"makeRows",value:function(){for(var e=[],t=0;t<9;t++){for(var n=[],r=0;r<9;r++)n.push(this.renderSquare(9*t+r));e.push(o.a.createElement("tr",{key:t},n))}return e}},{key:"render",value:function(){return o.a.createElement("div",{className:"main-container"},o.a.createElement("table",{className:"board"},o.a.createElement("tbody",null,this.makeRows())))}}]),n}(o.a.Component),A=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var r;Object(i.a)(this,n),r=t.call(this,e);for(var o=Array(81).fill(null),s=0;s<81;s++)o[s]=Array(9).fill(!1);var a=Math.floor(1e4*Math.random());return w.ref("puzzle"+a).once("value").then((function(e){r.setState({originalPuzzle:e.val().puzzle,puzzle:e.val().puzzle.slice(),givens:b(e.val().puzzle),solution:e.val().solution})})),r.state={history:[],puzzle:Array(81).fill(0),givens:new Set,solution:Array(81).fill(0),puzzleNum:a,notes:r.emptyNotes(),selected:0,stepNumber:0,noteMode:!1},r.keyIn=r.keyIn.bind(Object(u.a)(r)),r}return Object(c.a)(n,[{key:"emptyNotes",value:function(){for(var e=Array(81).fill(null),t=0;t<81;t++)e[t]=Array(9).fill(!1);return e}},{key:"solveSteps",value:function(e){var t=this,n=e(this.state.puzzle.slice(),this.state.givens);null!==n&&(console.log("steps: "+n.steps.length),this.setState((function(e){return{history:e.history.concat(n.steps),solution:n.solution,selected:null}})),setTimeout((function(){var e=0,n=setInterval((function(){t.setState((function(t){var n=t.history[e];return t.puzzle[n.index]=n.num,{stepNumber:e+1}})),++e===t.state.history.length&&clearInterval(n)}),1)}),100))}},{key:"squareClick",value:function(e){this.setState({selected:e})}},{key:"keyIn",value:function(e){e&&("Space"===e.code?this.notesClick():this.setState((function(t){if(!isNaN(parseInt(e.key))&&"Digit0"!==e.code&&!t.givens.has(t.selected)){var n=parseInt(e.key);if(t.noteMode)return t.notes[t.selected][n-1]=!t.notes[t.selected][n-1],{history:t.history.concat([{notes:!0,index:t.selected,num:[n]}]),stepNumber:t.stepNumber+1};t.puzzleNum<0&&t.givens.add(t.selected);var r=t.puzzle[t.selected];return t.puzzle[t.selected]=n,{history:t.history.concat([{notes:!1,index:t.selected,num:n,old:r}]),stepNumber:t.stepNumber+1}}if("Backspace"===e.key){if(!t.givens.has(t.selected)||t.puzzleNum<0){if(0===t.puzzle[t.selected]){for(var o=[],s=0;s<9;s++)t.notes[t.selected][s]&&o.push(s+1);return t.notes[t.selected]=Array(9).fill(!1),{history:t.history.concat([{notes:!0,index:t.selected,num:o}]),stepNumber:t.stepNumber+1}}t.givens.delete(t.selected);var a=t.puzzle[t.selected];return t.puzzle[t.selected]=0,{history:t.history.concat([{notes:!1,index:t.selected,num:0,old:a}]),stepNumber:t.stepNumber+1}}}else{if("ArrowRight"===e.key)return t.selected%9!==8?{selected:t.selected+1}:{};if("ArrowLeft"===e.key)return t.selected%9!==0?{selected:t.selected-1}:{};if("ArrowUp"===e.key)return 0!==Math.floor(t.selected/9)?{selected:t.selected-9}:{};if("ArrowDown"===e.key)return 8!==Math.floor(t.selected/9)?{selected:t.selected+9}:{}}})))}},{key:"undoClick",value:function(){this.setState((function(e){if(0!==e.stepNumber){var t=e.stepNumber-1,n=e.history[t];if(n.notes){var r,o=Object(l.a)(n.num);try{for(o.s();!(r=o.n()).done;){var s=r.value;e.notes[n.index][s-1]=!e.notes[n.index][s-1]}}catch(a){o.e(a)}finally{o.f()}}else e.puzzleNum<0&&0===n.old&&e.givens.delete(n.index),console.log(n.old),e.puzzle[n.index]=n.old;return{stepNumber:t,history:e.history.slice(0,t),selected:n.index}}}))}},{key:"reset",value:function(){var e=this;this.setState((function(t){if(t.puzzleNum<0){var n,r=Array(81).fill(0),o=Object(l.a)(t.givens.keys());try{for(o.s();!(n=o.n()).done;){var s=n.value;r[s]=t.puzzle[s]}}catch(a){o.e(a)}finally{o.f()}return{history:[],puzzle:r,solution:r,puzzleNum:-1,notes:e.emptyNotes(),selected:0,stepNumber:0,noteMode:!1}}return{history:[],puzzle:t.originalPuzzle.slice(),notes:e.emptyNotes(),selected:0,stepNumber:0,noteMode:!1}}))}},{key:"notesClick",value:function(){this.setState((function(e){return{noteMode:!e.noteMode}}))}},{key:"randomPuzzle",value:function(){var e=this,t=Math.floor(1e4*Math.random());w.ref("puzzle"+t).once("value").then((function(n){e.setState({history:[],originalPuzzle:n.val().puzzle,puzzle:n.val().puzzle.slice(),givens:b(n.val().puzzle),solution:n.val().solution,puzzleNum:t,notes:e.emptyNotes(),selected:0,stepNumber:0,noteMode:!1})}))}},{key:"clear",value:function(){var e=this;this.setState((function(t){var n=Array(81).fill(0);return{history:[],puzzle:n,givens:new Set,solution:n,puzzleNum:-1,notes:e.emptyNotes(),selected:0,stepNumber:0,noteMode:!1}}))}},{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.keyIn)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.keyIn)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"game"},o.a.createElement("div",{className:"game-board"},o.a.createElement(C,{squares:this.state.puzzle,solution:this.state.solution,givens:this.state.givens,selected:this.state.selected,notes:this.state.notes,squareClick:function(t){return e.squareClick(t)}})),o.a.createElement("div",{className:"buttons"},o.a.createElement("button",{className:"undo",onClick:function(){return e.undoClick()}},"Undo"),o.a.createElement("button",{className:"reset",onClick:function(){return e.reset()}},"Reset"),o.a.createElement("button",{className:"notes",onClick:function(){return e.notesClick()}},"Notes"),o.a.createElement("button",{className:"random",onClick:function(){return e.randomPuzzle()}},"Random Puzzle"),o.a.createElement("button",{className:"clear",onClick:function(){return e.clear()}},"Custom Puzzle"),o.a.createElement("button",{className:"solvebf",onClick:function(){return e.solveSteps(v)}},"Solve Brute Force"),o.a.createElement("button",{className:"solvesmart",onClick:function(){return e.solveSteps(k)}},"Smart Brute Force")))}}]),n}(o.a.Component);var j=function(){return o.a.createElement("div",{className:"app"},o.a.createElement(A,null))};a.a.render(o.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.9deab176.chunk.js.map